extends layout.pug

block title
    title TODO LIST | Main page

block titleHeader
    h1 TODO LIST

block content
    .container-fluid
        - var dateToday = new Date().toISOString().split('T')[0]
        form(method="POST", action="/add")
            .form-row.justify-content-center  
                .form-group.col-sm-6    
                    label Title
                    input.form-control(name="title", required)
            .form-row.justify-content-center
                .form-group.col-sm-3
                    label Start date
                    input.form-control(name="startDate", type="dateToday" required)
                .form-group.col-sm-3
                    label End date
                    input.form-control(name="endDate", type="dateToday" required)
            .form-row.justify-content-center
                    label.col-sm-3 Status
                    input.col-sm-3.form-control(name="status")
                        each item in statuses
                            option(value=item.id) #{item.name}
            .form-row.justify-content-center.mt-5
                    input.btn.btn-secondary.form-control.col-sm-6(type="submit", value="Add")

        div
            table.table.table-hover.table-theme-dark.mt-5
                thead
                    tr
                        th #
                        th Title
                        th Start date
                        th End date
                        th Status
                        th Actions
                tbody
                    - var className = ''

                    each item in tasks
                        if item.status.id == 2
                            - className = 'task-success'
                        else if item.status.id == 3
                            - className = 'task-no-success'
                        else
                            - className = ''
                    
                        tr(class=className)
                            td
                            td.name.box
                                span #{item.title}
                            td #{item.startDate}
                            td #{item.endDate}
                            td #{item.status}
                            td
                                div
                                    a.btn.btn-secondary.btn-lg(href='#') &#9998;
                                    a.btn.btn-secondary.btn-lg(href='#') &#128465;
                        